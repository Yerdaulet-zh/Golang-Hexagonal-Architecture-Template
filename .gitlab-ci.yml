stages:
  - lint
  - validate

lint-yaml:
  stage: lint
  image: python:3.10-slim
  script:
    - pip install yamllint
    - yamllint docker-compose.yml

validate-compose:
  stage: validate
  image: docker:24.0.5
  services:
    - docker:24.0.5-dind
  script:
    - docker compose config -q
    - echo "Docker Compose file is valid!"
  